{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/newuser/dev/fowlcat-staking/src/zeus/constants.ts"],"sourcesContent":["import { PublicKey } from \"@solana/web3.js\";\nexport const ZBTC_MINT = new PublicKey(\"zBTCug3er3tLyffELcvDNrKkCymbPWysGcWihESYfLg\"); // zBTC (8 dp)\nexport const FOWLCAT_MINT = new PublicKey(process.env.NEXT_PUBLIC_FOWLCAT_MINT!);      // (likely 9 dp)\nexport const TREASURY = new PublicKey(process.env.NEXT_PUBLIC_TREASURY!);\nexport const CLUSTER = process.env.NEXT_PUBLIC_CLUSTER || \"mainnet-beta\";\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AACO,MAAM,YAAY,IAAI,uUAAS,CAAC,gDAAgD,cAAc;AAC9F,MAAM,eAAe,IAAI,uUAAS,oFAA8C,gBAAgB;AAChG,MAAM,WAAW,IAAI,uUAAS;AAC9B,MAAM,UAAU,oDAAmC","debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///Users/newuser/dev/fowlcat-staking/src/lib/spl.ts"],"sourcesContent":["import { Connection, PublicKey, SystemProgram, Transaction } from \"@solana/web3.js\";\nimport {\n  getAssociatedTokenAddress,\n  createAssociatedTokenAccountInstruction,\n  createTransferInstruction,\n} from \"@solana/spl-token\";\n\n/**\n * Ensures a destination ATA exists and returns it. Adds a create ix if missing.\n */\nexport async function ensureAtaAndBuildTx(\n  connection: Connection,\n  payer: PublicKey,\n  owner: PublicKey,\n  mint: PublicKey\n) {\n  const ata = await getAssociatedTokenAddress(mint, owner, true);\n  const info = await connection.getAccountInfo(ata);\n  const tx = new Transaction();\n  if (!info) {\n    tx.add(createAssociatedTokenAccountInstruction(payer, ata, owner, mint));\n  }\n  return { ata, tx };\n}\n\n/**\n * Build an SPL transfer (no approve; direct if sender is owner).\n */\nexport async function buildSplTransferTx(\n  connection: Connection,\n  sender: PublicKey,\n  recipient: PublicKey,\n  mint: PublicKey,\n  amountRaw: bigint\n) {\n  const { ata: fromAta } = await ensureAtaAndBuildTx(connection, sender, sender, mint);\n  const { ata: toAta, tx } = await ensureAtaAndBuildTx(connection, sender, recipient, mint);\n  tx.add(createTransferInstruction(fromAta, toAta, sender, amountRaw));\n  return tx;\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;AAAA;;;AASO,eAAe,oBACpB,UAAsB,EACtB,KAAgB,EAChB,KAAgB,EAChB,IAAe;IAEf,MAAM,MAAM,MAAM,IAAA,iZAAyB,EAAC,MAAM,OAAO;IACzD,MAAM,OAAO,MAAM,WAAW,cAAc,CAAC;IAC7C,MAAM,KAAK,IAAI,yUAAW;IAC1B,IAAI,CAAC,MAAM;QACT,GAAG,GAAG,CAAC,IAAA,wbAAuC,EAAC,OAAO,KAAK,OAAO;IACpE;IACA,OAAO;QAAE;QAAK;IAAG;AACnB;AAKO,eAAe,mBACpB,UAAsB,EACtB,MAAiB,EACjB,SAAoB,EACpB,IAAe,EACf,SAAiB;IAEjB,MAAM,EAAE,KAAK,OAAO,EAAE,GAAG,MAAM,oBAAoB,YAAY,QAAQ,QAAQ;IAC/E,MAAM,EAAE,KAAK,KAAK,EAAE,EAAE,EAAE,GAAG,MAAM,oBAAoB,YAAY,QAAQ,WAAW;IACpF,GAAG,GAAG,CAAC,IAAA,4ZAAyB,EAAC,SAAS,OAAO,QAAQ;IACzD,OAAO;AACT","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/newuser/dev/fowlcat-staking/src/lib/referrals.ts"],"sourcesContent":["export function getReferrer(): string | null {\n  if (typeof window === \"undefined\") return null;\n  const url = new URL(window.location.href);\n  const ref = url.searchParams.get(\"ref\");\n  if (ref) {\n    try { localStorage.setItem(\"fowlcat_ref\", ref); } catch {}\n    return ref;\n  }\n  try { return localStorage.getItem(\"fowlcat_ref\"); } catch { return null; }\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS;IACd,wCAAmC,OAAO;;;IAC1C,MAAM;IACN,MAAM;AAMR","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///Users/newuser/dev/fowlcat-staking/app/staking/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useWallet, useConnection } from \"@solana/wallet-adapter-react\";\nimport { WalletMultiButton } from \"@solana/wallet-adapter-react-ui\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { getAssociatedTokenAddress } from \"@solana/spl-token\";\nimport { ZBTC_MINT, FOWLCAT_MINT, TREASURY } from \"@/zeus/constants\";\nimport { buildSplTransferTx } from \"@/lib/spl\";\nimport { getReferrer } from \"@/lib/referrals\";\n\ntype Bal = { ui: string; raw: bigint; decimals: number };\n\nasync function fetchTokenBalance(\n  connection: any, owner: PublicKey, mint: PublicKey, fallbackDecimals = 9\n): Promise<Bal> {\n  try {\n    const ata = await getAssociatedTokenAddress(mint, owner, true);\n    const info = await connection.getTokenAccountBalance(ata);\n    const raw = BigInt(info.value.amount);\n    const decimals = info.value.decimals ?? fallbackDecimals;\n    const ui = (Number(raw) / 10 ** decimals).toLocaleString(undefined, { maximumFractionDigits: decimals });\n    return { ui, raw, decimals };\n  } catch {\n    return { ui: \"0\", raw: 0n, decimals: fallbackDecimals };\n  }\n}\n\nfunction Card({ title, value, sub }: { title: string; value: string; sub?: string }) {\n  return (\n    <div className=\"rounded-2xl border p-4\">\n      <div className=\"text-xs opacity-70\">{title}</div>\n      <div className=\"text-2xl font-semibold\">{value}</div>\n      {sub ? <div className=\"text-xs opacity-60 mt-1\">{sub}</div> : null}\n    </div>\n  );\n}\n\nexport default function StakingPage() {\n  const { connection } = useConnection();\n  const { publicKey, sendTransaction } = useWallet();\n  const [zbtc, setZbtc] = useState<Bal | null>(null);\n  const [fowlcat, setFowlcat] = useState<Bal | null>(null);\n  const [amt, setAmt] = useState(\"\");\n  const [agree, setAgree] = useState(false);\n  const [busy, setBusy] = useState(false);\n  const referrer = useMemo(getReferrer, []);\n\n  useEffect(() => {\n    if (!publicKey) { setZbtc(null); setFowlcat(null); return; }\n    (async () => {\n      const [zb, fc] = await Promise.all([\n        fetchTokenBalance(connection, publicKey, ZBTC_MINT, 8),\n        fetchTokenBalance(connection, publicKey, FOWLCAT_MINT, 9),\n      ]);\n      setZbtc(zb); setFowlcat(fc);\n    })();\n  }, [publicKey, connection]);\n\n  const onSoftLock = async () => {\n    if (!publicKey || !amt || !agree) return;\n    try {\n      setBusy(true);\n      // Convert UI amount -> raw (assume 9 dp for FOWLCAT unless you later query decimals)\n      const raw = BigInt(Math.round(parseFloat(amt) * 1e9));\n      if (raw <= 0n) throw new Error(\"Invalid amount\");\n      const tx = await buildSplTransferTx(connection, publicKey, TREASURY, FOWLCAT_MINT, raw);\n      const sig = await sendTransaction(tx, connection);\n      // naive toast\n      alert(`Soft lock submitted!\\nSignature:\\n${sig}`);\n      setAmt(\"\");\n    } catch (e: any) {\n      alert(`Transfer failed: ${e?.message || e}`);\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  return (\n    <main className=\"mx-auto max-w-4xl p-6 space-y-8\">\n      <header className=\"flex items-center justify-between\">\n        <h1 className=\"text-2xl font-semibold\">FOWLCAT Staking • Zeus zBTC</h1>\n        <WalletMultiButton />\n      </header>\n\n      {referrer ? (\n        <div className=\"rounded-xl border p-3 text-xs opacity-80\">\n          Referred by: <span className=\"font-mono\">{referrer}</span>\n        </div>\n      ) : null}\n\n      {!publicKey ? (\n        <p>Connect your wallet to view balances and actions.</p>\n      ) : (\n        <>\n          <section className=\"grid gap-4 sm:grid-cols-3\">\n            <Card title=\"Your zBTC\" value={zbtc?.ui ?? \"-\"} sub=\"zBTC (Zeus Network)\" />\n            <Card title=\"Your FOWLCAT\" value={fowlcat?.ui ?? \"-\"} sub=\"FOWLCAT (SPL)\" />\n            <div className=\"rounded-2xl border p-4\">\n              <div className=\"text-xs opacity-70\">Treasury</div>\n              <div className=\"text-xs break-all opacity-70\">{TREASURY.toBase58()}</div>\n            </div>\n          </section>\n\n          {/* Jupiter Swap */}\n          <section className=\"rounded-2xl border p-4 space-y-3\">\n            <h2 className=\"text-lg font-medium\">Swap into $FOWLCAT</h2>\n            <p className=\"text-sm opacity-80\">\n              Swap SOL/USDC → FOWLCAT without leaving this page. (Referral routing can be added later.)\n            </p>\n            <div className=\"rounded-xl overflow-hidden\">\n              <iframe\n                src=\"https://jup.ag/swap/SOL-FOWLCAT\"  /* adjust pair symbol if needed */\n                width=\"100%\"\n                height=\"460\"\n                style={{ border: \"none\", borderRadius: 16 }}\n              />\n            </div>\n          </section>\n\n          {/* Actions */}\n          <section className=\"rounded-2xl border p-4 space-y-3\">\n            <h2 className=\"text-lg font-medium\">Ecosystem Actions</h2>\n            <div className=\"grid sm:grid-cols-2 gap-2\">\n              <a className=\"rounded-xl border px-4 py-3 text-center hover:bg-white/10 transition\"\n                 href=\"https://zeusnetwork.xyz/apollo\" target=\"_blank\" rel=\"noreferrer\">\n                Get zBTC (APOLLO)\n              </a>\n              <a className=\"rounded-xl border px-4 py-3 text-center hover:bg-white/10 transition\"\n                 href=\"https://btcsol.co\" target=\"_blank\" rel=\"noreferrer\">\n                Stake SOL → Earn zBTC (btcSOL)\n              </a>\n            </div>\n          </section>\n\n          {/* Soft Lock to Treasury */}\n          <section className=\"rounded-2xl border p-4 space-y-3\">\n            <h2 className=\"text-lg font-medium\">Lock FOWLCAT (Soft Vault)</h2>\n            <p className=\"text-sm opacity-80\">\n              Lock FOWLCAT to the Treasury to qualify for points, boosts, airdrops, and revenue-share events.\n              This sends tokens to the project treasury. Withdrawals are processed by the team (until the on-chain program is live).\n            </p>\n            <div className=\"flex flex-col sm:flex-row gap-3 items-start\">\n              <input\n                className=\"flex-1 rounded-xl border px-3 py-2 bg-transparent\"\n                placeholder=\"Amount (FOWLCAT)\"\n                value={amt}\n                onChange={(e) => setAmt(e.target.value)}\n              />\n              <button\n                onClick={onSoftLock}\n                disabled={busy || !agree || !amt}\n                className=\"rounded-2xl px-4 py-2 border hover:bg-white/10 transition\"\n              >\n                {busy ? \"Locking...\" : \"Lock to Treasury\"}\n              </button>\n            </div>\n            <label className=\"text-xs flex items-center gap-2\">\n              <input type=\"checkbox\" checked={agree} onChange={(e) => setAgree(e.target.checked)} />\n              I understand this sends my FOWLCAT to the project treasury and agree to the terms.\n            </label>\n            <p className=\"text-xs opacity-60\">\n              Coming soon: On-chain staking program for permissionless withdraw/claim.\n            </p>\n          </section>\n        </>\n      )}\n    </main>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}